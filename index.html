<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>稻香村发展计划 - 武侠像素大战略</title>
    <link rel="stylesheet" href="./src/style.css">

    <!-- 预加载关键资源：主界面背景图 (修正路径，去除 ./public) -->
    <link rel="preload" href="/assets/ui/主界面背景图.png" as="image" type="image/png">

    <!-- 预加载核心脚本 -->
    <script type="module" src="./src/index.tsx" defer></script>
</head>
<body oncontextmenu="return false;">
    <div id="app">
        <!-- React UI 挂载点 -->
        <div id="react-ui-root"></div>

        <!-- UI 层：主菜单、UI面板等 -->
        <div id="ui-layer" class="hidden">
            <!-- React 游戏启动流程挂载点 -->
            <div id="react-game-start-flow-mount"></div>

            <!-- 大世界 HUD -->
            <div id="world-ui" class="hidden">
                <div class="top-hud-bar">
                    <div id="react-resource-bar"></div>
                    <div class="top-hud-divider"></div>
                    <div id="react-date-display"></div>
                </div>

                <!-- 江湖播报系统 -->
                <div id="world-broadcast-system" class="broadcast-container">
                    <div id="react-broadcast-horn-mount"></div>
                    <div id="react-broadcast-bubble-mount"></div>
                </div>

                <!-- 左下角状态区 -->
                <div class="hud-bottom-left" id="world-hud-bottom-left">
                    <div id="react-city-mini-card"></div>
                    <div id="react-hero-mini-card"></div>
                </div>
            </div>

            <!-- 面板挂载点 (由 App.tsx 统一传送) -->
            <div id="react-hero-stats-mount"></div>
            <div id="react-town-management-mount"></div>
            <div id="react-teleport-mount"></div>
            <div id="react-skill-learn-mount"></div>
            <div id="react-how-to-play-mount"></div>
            <div id="react-load-save-mount"></div>
            <div id="react-save-game-mount"></div>
            <div id="react-world-event-history-mount"></div>
            <div id="react-battle-hud-mount"></div>
            <div id="react-settlement-mount"></div>
            <div id="react-game-start-mount"></div>
            <div id="react-building-draft-mount"></div>
            <div id="react-pause-menu-mount"></div>
        </div> <!-- End of ui-layer -->

        <!-- Canvas 层 -->
        <canvas id="game-canvas"></canvas>

        <div id="react-talent-mount"></div>
    </div> <!-- End of app -->

</body>
</html>
